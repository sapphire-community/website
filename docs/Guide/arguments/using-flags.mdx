---
sidebar_position: 4
title: Using Flags
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

So far we have covered arguments, which as shown are positional. That is to say, the order in which they appear matters and they are parsed in the specified order. So what if we want to have an argument that can appear anywhere in the command? That's where flags come in. Flags are a term that is likely to be known to people who have used command line tools. They are formatted as `--flag`. For example, `node --version` to get the version of your NodeJS installation.

With Sapphire you can use flags in two ways: declarative and imperative.

:::tip
Flags are _always_ `boolean` values
:::

:::caution
When a flag is read through [`args.getFlags('<flagName>')`][getflags] but it is not provided by the user, the value of that variable will default to `false`.
:::

## Imperative Flags

When opting for imperative flags it means that Sapphire will only parse those flags you specify in the command options. We recommend this method because it can avoid unexpected situations where something in, for example, [`args.rest('string')`][rest] is parsed as a flag when in reality it was not.

To add imperative flags to your command you specify them on your command options like so:

<Tabs groupId="language-choice">
<TabItem value="javascript" label="JavaScript" default>

```javascript {6}
const { Command } = require('@sapphire/framework');

module.exports = class FlagsCommand extends Command {
  constructor(context) {
    super(context, {
      flags: ['version', 'v']
    });
  }

  async messageRun(message, args) {}
};
```

</TabItem>
<TabItem value="ESM" label="ESM">

```javascript {6}
import { Command } from '@sapphire/framework';

export class FlagsCommand extends Command {
  constructor(context) {
    super(context, {
      flags: ['version', 'v']
    });
  }

  async messageRun(message, args) {}
}
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript {6,10}
import { ApplyOptions } from '@sapphire/decorators';
import { Command, CommandOptions, Args } from '@sapphire/framework';
import type { Message } from 'discord.js';

@ApplyOptions<CommandOptions>({
  flags: ['version', 'v']
})
export class FlagsCommand extends Command {
  public async messageRun(message: Message, args: Args) {}
}
```

</TabItem>
</Tabs>

:::info
We only parse the flags that you specify when using imperative flags. If the user provides `--anything` `--else` like `--this`, that won't be parsed as flags with this code, because we only set `--version` and `--v`.
:::

Next, to read the values for the provided flags we use [`args.getFlags('<flagName>')`][getflags]

<Tabs groupId="language-choice">
<TabItem value="javascript" label="JavaScript" default>

```javascript {6}
const { Command } = require('@sapphire/framework');

module.exports = class FlagsCommand extends Command {
  constructor(context) {
    super(context, {
      flags: ['version', 'v']
    });
  }

  async messageRun(message, args) {
    const firstArgument = await args.pick('string');
    const isRequestingVersion = args.getFlags('vesion', 'v');
    const secondArgument = await args.pick('string');
    // ...
  }
};
```

</TabItem>
<TabItem value="ESM" label="ESM">

```javascript {6}
import { Command } from '@sapphire/framework';

export class FlagsCommand extends Command {
  constructor(context) {
    super(context, {
      flags: ['version', 'v']
    });
  }

  async messageRun(message, args) {
    const firstArgument = await args.pick('string');
    const isRequestingVersion = args.getFlags('vesion', 'v');
    const secondArgument = await args.pick('string');
    // ...
  }
}
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript {6,10}
import { ApplyOptions } from '@sapphire/decorators';
import { Command, CommandOptions, Args } from '@sapphire/framework';
import type { Message } from 'discord.js';

@ApplyOptions<CommandOptions>({
  flags: ['version', 'v']
})
export class FlagsCommand extends Command {
  public async messageRun(message: Message, args: Args) {
    const firstArgument = await args.pick('string');
    const isRequestingVersion = args.getFlags('vesion', 'v');
    const secondArgument = await args.pick('string');
    // ...
  }
}
```

</TabItem>
</Tabs>

:::info
Unlike methods like [`args.pick('<argumentName>')`](../../Documentation/api-framework/classes/Args#pick) and [`args.rest`][rest], [`args.getFlags('<flagName>')`][getflags] does **_not_** need to be `await`ed. It does not return a `Promise` that resolves with a `boolean`, but rather a regular `boolean`.
:::

## Declarative Flags

When opting for declarative flags it means that Sapphire will try to parse everything that starts with 2 consecutive hyphens. That means that `--these` `--will` `--all` `--be` `--flags`. This can lead to unexpected situations, especially when using [`args.rest('string')`][rest]. However, the flipside is that it's easy for you as a developer because you won't need to keep track of what flags you have specified and are trying to get from the args.

To use and configure declarative flags you can follow most of the same for imperative flags, with the difference being that instead of providing an array of items to the flags option, you simply set that property to `true`. Here is an example:

<Tabs groupId="language-choice">
<TabItem value="javascript" label="JavaScript" default>

```javascript {6}
const { Command } = require('@sapphire/framework');

module.exports = class FlagsCommand extends Command {
  constructor(context) {
    super(context, {
      flags: true
    });
  }

  async messageRun(message, args) {
    const firstArgument = await args.pick('string');
    const isRequestingVersion = args.getFlags('vesion', 'v');
    const secondArgument = await args.pick('string');
    // ...
  }
};
```

</TabItem>
<TabItem value="ESM" label="ESM">

```javascript {6}
import { Command } from '@sapphire/framework';

export class FlagsCommand extends Command {
  constructor(context) {
    super(context, {
      flags: true
    });
  }

  async messageRun(message, args) {
    const firstArgument = await args.pick('string');
    const isRequestingVersion = args.getFlags('vesion', 'v');
    const secondArgument = await args.pick('string');
    // ...
  }
}
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript {6,10}
import { ApplyOptions } from '@sapphire/decorators';
import { Command, CommandOptions, Args } from '@sapphire/framework';
import type { Message } from 'discord.js';

@ApplyOptions<CommandOptions>({
  flags: true
})
export class FlagsCommand extends Command {
  public async messageRun(message: Message, args: Args) {
    const firstArgument = await args.pick('string');
    const isRequestingVersion = args.getFlags('vesion', 'v');
    const secondArgument = await args.pick('string');
    // ...
  }
}
```

</TabItem>
</Tabs>

[getflags]: ../../Documentation/api-framework/classes/Args#getflags
[rest]: ../../Documentation/api-framework/classes/Args#rest
