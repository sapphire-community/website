---
sidebar_position: 2
title: Creating a basic slash command
---

:::caution

This section covers the **absolute minimum** for setting up a slash command. We have an entire "Application Commands"
section on how to effectively set up slash commands, and if you are doing anything serious we highly recommend you start
there with [`What are application commands?`][what-are-application-commands]

:::

To create a slash command (known as a Chat Input Command in Sapphire), you will need to implement the
`registerApplicationCommands` method in the `Command` class. Let's create a `ping` command and register a corresponding
slash command with Discord:

```typescript ts2esm2cjs|{3-13}|{3-13}
import { Command } from '@sapphire/framework';

export class PingCommand extends Command {
  public constructor(context: Command.Context, options: Command.Options) {
    super(context, { ...options });
  }

  public override registerApplicationCommands(registry: ChatInputCommand.Registry) {
    registry.registerChatInputCommand((builder) =>
      builder.setName('ping').setDescription('Ping bot to see if it is alive')
    );
  }
}
```

The example above will register a slash command with Discord called `ping` with the description
`'Ping bot to see if it is alive'`. This is the information users will see in Discord when interacting with your bot
through the slash command.

In order for your bot to respond to the slash command when it is invoked by a user, you must implement the
`chatInputRun` method for the `Command` class.

```typescript ts2esm2cjs|{15-25}|{15-25}
import { isMessageInstance } from '@sapphire/discord.js-utilities';
import { Command } from '@sapphire/framework';

export class PingCommand extends Command {
  public constructor(context: Command.Context, options: Command.Options) {
    super(context, { ...options });
  }

  public override registerApplicationCommands(registry: ChatInputCommand.Registry) {
    registry.registerChatInputCommand((builder) =>
      builder.setName('ping').setDescription('Ping bot to see if it is alive')
    );
  }

  public async chatInputRun(interaction: Command.ChatInputInteraction) {
    const msg = await interaction.reply({ content: `Ping?`, ephemeral: true, fetchReply: true });

    if (isMessageInstance(msg)) {
      const diff = msg.createdTimestamp - interaction.createdTimestamp;
      const ping = Math.round(this.container.client.ws.ping);
      return interaction.editReply(`Pong 🏓! (Round trip took: ${diff}ms. Heartbeat: ${ping}ms.)`);
    }

    return interaction.editReply('Failed to retrieve ping :(');
  }
}
```

## Creating a slash command with subcommands

:::caution

Currently, progress is still being made on the official [Sapphire Subcommands Plugin][saph-plug-subcom]. The following
example works as of now, and will continue to work after the plugin is updated. However, creating subcommands will be
possible with less code once the plugin has been updated.

:::

To create a slash command with subcommands, we need to add additional configuration while implementing the
`registerApplicationCommands` method for the `Command` class.

`Example`

```typescript ts2esm2cjs|{12-20}|{12-20}
import { Command } from '@sapphire/framework';

export class SubCommand extends Command {
  public constructor(context: Command.Context, options: Command.Options) {
    // ...
  }

  public async chatInputRun(interaction: Command.ChatInputInteraction) {
    // ...
  }

  public override registerApplicationCommands(registry: Command.Registry) {
    registry.registerChatInputCommand((builder) =>
      builder
        .setName('command')
        .setDescription('Command with subcommands')
        .addSubcommand((command) => command.setName('first').setDescription('First subcommand'))
        .addSubcommand((command) => command.setName('second').setDescription('Second subcommand'))
    );
  }
}
```

The above will create a slash command called `command` with the description `Command with subcommands`. The command will
have two sub commands, `first` and `second` with description `First subcommand` and `Second subcommand` respectively.

:::note

For handling subcommands, please refer to the [Sapphire Plugin Subcommands][saph-plug-subcom] documentation.

:::

[saph-plug-subcom]: ../plugins/Subcommands/getting-started
[what-are-application-commands]: ../application-commands/what-are-application-commands.mdx
