---
sidebar_position: 5
title: Using Options
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Now that we've gone over flags and how to get boolean values,
what about if we don't want a boolean value but rather a string one?
Well that's where options come in. Options are formatted in a similar way as flags,
with the difference being that they are followed by `=value`. For example, an option could be `--size=2048`

Just like with flags, you can use options in two ways: declarative and imperative.

:::tip
Options are either strings, an array of strings, or `undefined`.
:::

:::caution
When an option is read through [`args.getOption('<optionName>')`][getoption] but it is not provided by the user,
the value of that variable will default to `undefined`.
:::

## Imperative Options

When opting for imperative options it means that Sapphire will only parse those options you specify in the command options.
We recommend this method because it can avoid unexpected situations where something in,
for example, [`args.rest('string')`][rest] is parsed as an options when in reality it was not.

To add imperative options to your command you specify them on your command options like so:

<Tabs groupId="language-choice">
<TabItem value="javascript" label="JavaScript" default>

```javascript {6}
const { Command } = require('@sapphire/framework');

module.exports = class OptionsCommand extends Command {
  constructor(context) {
    super(context, {
      options: ['size']
    });
  }

  async messageRun(message, args) {}
};
```

</TabItem>
<TabItem value="ESM" label="ESM">

```javascript {6}
import { Command } from '@sapphire/framework';

export class OptionsCommand extends Command {
  constructor(context) {
    super(context, {
      options: ['size']
    });
  }

  async messageRun(message, args) {}
}
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript {6}
import { ApplyOptions } from '@sapphire/decorators';
import { Command, CommandOptions, Args } from '@sapphire/framework';
import type { Message } from 'discord.js';

@ApplyOptions<CommandOptions>({
  options: ['size']
})
export class OptionsCommand extends Command {
  public async messageRun(message: Message, args: Args) {}
}
```

</TabItem>
</Tabs>

:::info
We only parse the options that you specify when using imperative options. If the user provides anything else like `--this=cool`,
that won't be parsed as options with this code, because we only set `--size=`.
:::

Next, to read the values for the provided options we use [`args.getOption('<optionName>')`][getoption] or [`args.getOptions('<optionName>')`][getoption]

The difference between [`args.getOption('<optionName>')`][getoption] and [`args.getOptions('<optionName>')`][getoptions]
is that the former will only read the _last_ value provided for an option and return a `string`,
whereas the latter will read _all_ values provided and return an array of strings.

For example consider the following:

- `@bot avatar --size=2048 --size=4096` with `getOption` will return `'4096'`
- `@bot avatar --size=2048 --size=4096` with `getOptions` will return `['2048', '4096']`

<Tabs groupId="language-choice">
<TabItem value="javascript" label="JavaScript" default>

```javascript {6}
const { Command } = require('@sapphire/framework');

module.exports = class OptionsCommand extends Command {
  constructor(context) {
    super(context, {
      options: ['size']
    });
  }

  async messageRun(message, args) {
    const sizeForAvatar = args.getOption('size');
    // ...
  }
};
```

</TabItem>
<TabItem value="ESM" label="ESM">

```javascript {6}
import { Command } from '@sapphire/framework';

export class OptionsCommand extends Command {
  constructor(context) {
    super(context, {
      options: ['size']
    });
  }

  async messageRun(message, args) {
    const sizeForAvatar = args.getOption('size');
    // ...
  }
}
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript {6,10}
import { ApplyOptions } from '@sapphire/decorators';
import { Command, CommandOptions, Args } from '@sapphire/framework';
import type { Message } from 'discord.js';

@ApplyOptions<CommandOptions>({
  options: ['size']
})
export class OptionsCommand extends Command {
  public async messageRun(message: Message, args: Args) {
    const sizeForAvatar = args.getOption('size');
    // ...
  }
}
```

</TabItem>
</Tabs>

:::info
Unlike Methods like [`args.pick`][pick] and [`args.rest`][rest], [`args.getOption('<optionName>')`][getoption]
and [`args.getOptions('<optionName>')`][getoption] do **_not_** need to be `await`ed.
These methods do not return a `Promise` that resolves to a `string`, array of strings, or undefined,
but rather a regular string, array of strings, or undefined.
:::

## Declarative Options

When opting for declarative options it means that Sapphire will try to parse everything that starts with 2 consecutive hyphens.
That means that `--these=..` `--will=...` `--all=..` `--be=...` `--options=...`. This can lead to unexpected situations,
especially when using [`args.rest('string')`][rest].
However, the flipside is that it's easy for you as a developer because you won't need to keep track of what options
you have specified and are trying to get from the args.

To use and configure declarative options you can follow most of the same for imperative options,
with the difference being that instead of providing an array of items to the options option,
you simply set that property to `true`. Here is an example:

<Tabs groupId="language-choice">
<TabItem value="javascript" label="JavaScript" default>

```javascript {6}
const { Command } = require('@sapphire/framework');

module.exports = class OptionsCommand extends Command {
  constructor(context) {
    super(context, {
      options: true
    });
  }

  async messageRun(message, args) {
    const [size, format] = args.getOptions('size', 'format');
    // ...
  }
};
```

</TabItem>
<TabItem value="ESM" label="ESM">

```javascript {6}
import { Command } from '@sapphire/framework';

export class OptionsCommand extends Command {
  constructor(context) {
    super(context, {
      options: true
    });
  }

  async messageRun(message, args) {
    const [size, format] = args.getOptions('size', 'format');
    // ...
  }
}
```

</TabItem>
<TabItem value="typescript" label="TypeScript">

```typescript {6,10}
import { ApplyOptions } from '@sapphire/decorators';
import { Command, CommandOptions, Args } from '@sapphire/framework';
import type { Message } from 'discord.js';

@ApplyOptions<CommandOptions>({
  options: true
})
export class OptionsCommand extends Command {
  public async messageRun(message: Message, args: Args) {
    const [size, format] = args.getOptions('size', 'format');
    // ...
  }
}
```

</TabItem>
</Tabs>

[getoption]: ../../Documentation/api-framework/classes/Args#getOption
[getoptions]: ../../Documentation/api-framework/classes/Args#getOptions
[pick]: ../../Documentation/api-framework/classes/Args#pick
[rest]: ../../Documentation/api-framework/classes/Args#rest
