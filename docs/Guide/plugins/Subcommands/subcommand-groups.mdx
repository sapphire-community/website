---
title: Using Subcommand Groups for Chat Input Commands
sidebar_position: 2
---

The following examples will show off how to map subcommands within a group to methods in your command class. They will
build off the example in the previous [Getting Started][getting-started] section. If you haven't checked it out, we
suggest you go back, take a peek, and come back fresh and ready to code!

Subcommand Groups are a way to group application commands, so please refer to Discord's
[Subcommands and Subcommand Groups](https://discord.com/developers/docs/interactions/application-commands#subcommands-and-subcommand-groups)
documentation to see examples on how to use them for your users' benefits! In this guide, we are simply showing you how
to create mappings to them using the Subcommands plugin.

## Chat Input Command Subcommand Groups Usage

:::caution

Before you can use with Chat Input Commands (Slash Commands), we recommend you learn how to register and use regular
Chat Input Commands first in order to understand what the `registerApplicationCommands()` method does. Please read
[Registering Chat Input Commands][register] for details, and come back when you're done!

:::

```typescript ts2esm2cjs|{8-19,23-51,53-57}|{9-20,24-52,54-58}
import { Subcommand } from '@sapphire/plugin-subcommands';
import type { Args } from '@sapphire/framework';

// Extend `Subcommand` instead of `Command`
export class UserCommand extends Subcommand {
  public constructor(context: Subcommand.Context, options: Subcommand.Options) {
    super(context, {
      ...options,
      name: 'vip',
      subcommands: [
        { name: 'list', chatInputRun: 'chatInputList' },
        {
          name: 'action',
          type: 'group',
          entries: [
            { name: 'add', chatInputRun: 'chatInputAdd' },
            { name: 'remove', chatInputRun: 'chatInputRemove' }
          ]
        }
      ]
    });
  }

  registerApplicationCommands(registry: ChatInputCommand.Registry) {
    registry.registerChatInputCommand((builder) =>
      builder
        .setName('vip')
        .setDescription('Vip command') // Needed even though base command isn't displayed to end user
        .addSubcommand((command) => command.setName('list').setDescription('List vips'))
        .addSubcommandGroup((group) =>
          group
            .setName('action')
            .setDescription('action subcommand group') // Also needed even though the group isn't displayed to end user
            .addSubcommand((command) =>
              command
                .setName('add')
                .setDescription('Add a vip')
                .addUserOption((option) =>
                  option.setName('user').setDescription('user to add to vip list').setRequired(true)
                )
            )
            .addSubcommand((command) =>
              command
                .setName('remove')
                .setDescription('Remove a vip')
                .addUserOption((option) =>
                  option.setName('user').setDescription('user to remove from vip list').setRequired(true)
                )
            )
        )
    );
  }

  public async chatInputAdd(interaction: Subcommand.ChatInputInteraction) {}

  public async chatInputRemove(interaction: Subcommand.ChatInputInteraction) {}

  public async chatInputList(interaction: Subcommand.ChatInputInteraction) {}
}
```

The code above registers three slash commands: `/vip list`, `/vip action add`, and `/vip action remove`. These run the
respective class methods mapped in the `subcommands` array.

[getting-started]: ./getting-started.mdx
[register]: ../../application-commands/application-command-registry/registering-chat-input-commands.mdx
